<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.Watson Pharmacy - Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <img src="images/logo-white.png" alt="D.Watson Pharmacy" class="logo">
            </div>
            <ul class="sidebar-menu">
                <li class="active"><a href="#dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#departments"><i class="fas fa-layer-group"></i> Departments</a></li>
                <li><a href="#categories"><i class="fas fa-tags"></i> Categories</a></li>
                <li><a href="#products"><i class="fas fa-box"></i> Products</a></li>
                <li><a href="#sliders"><i class="fas fa-images"></i> Sliders</a></li>
                <li><a href="#banners"><i class="fas fa-ad"></i> Banners</a></li>
                <li><a href="#sections"><i class="fas fa-th-large"></i> Sections</a></li>
                <li><a href="#users"><i class="fas fa-users"></i> Users</a></li>
                <li><a href="#orders"><i class="fas fa-shopping-cart"></i> Orders</a></li>
                <li><a href="#reports"><i class="fas fa-chart-bar"></i> Sales Reports</a></li>
                <li><a href="#" id="logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-title">
                    <h1>Admin Dashboard</h1>
                </div>
                <div class="header-user">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle"></i> Admin
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Profile</a></li>
                            <li><a class="dropdown-item" href="#" id="logoutLink">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content">
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="content-section active">
                    <div class="row stats">
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-layer-group"></i>
                                </div>
                                <div class="stat-info">
                                    <h3 id="departments-count">0</h3>
                                    <p>Departments</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-tags"></i>
                                </div>
                                <div class="stat-info">
                                    <h3 id="categories-count">0</h3>
                                    <p>Categories</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="stat-info">
                                    <h3 id="products-count">0</h3>
                                    <p>Products</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-info">
                                    <h3 id="users-count">0</h3>
                                    <p>Users</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Departments Section -->
                <section id="departments-section" class="content-section">
                    <div class="section-header">
                        <h2>Departments</h2>
                        <button class="btn btn-primary" id="add-department-btn">Add Department</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="departments-table">
                                <!-- Departments will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Categories Section -->
                <section id="categories-section" class="content-section">
                    <div class="section-header">
                        <h2>Categories</h2>
                        <button class="btn btn-primary" id="add-category-btn">Add Category</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Department</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>Featured</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="categories-table">
                                <!-- Categories will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Products Section -->
                <section id="products-section" class="content-section">
                    <div class="section-header">
                        <h2>Products</h2>
                        <button class="btn btn-primary" id="add-product-btn">Add Product</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Department</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Discount</th>
                                    <th>Stock</th>
                                    <th>Featured</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="products-table">
                                <!-- Products will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="products-pagination">
                            <!-- Pagination will be loaded here -->
                        </ul>
                    </nav>
                </section>

                <!-- Sliders Section -->
                <section id="sliders-section" class="content-section">
                    <div class="section-header">
                        <h2>Sliders</h2>
                        <button class="btn btn-primary" id="add-slider-btn">Add Slider</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>Link</th>
                                    <th>Order</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="sliders-table">
                                <!-- Sliders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Banners Section -->
                <section id="banners-section" class="content-section">
                    <div class="section-header">
                        <h2>Banners</h2>
                        <button class="btn btn-primary" id="add-banner-btn">Add Banner</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Description</th>
                                    <th>Image</th>
                                    <th>Position</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="banners-table">
                                <!-- Banners will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Sections Section -->
                <section id="sections-section" class="content-section">
                    <div class="section-header">
                        <h2>Sections</h2>
                        <button class="btn btn-primary" id="add-section-btn">Add Section</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Title</th>
                                    <th>Ordering</th>
                                    <th>Active</th>
                                    <th>Published</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="sections-table">
                                <!-- Sections will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Users Section -->
                <section id="users-section" class="content-section">
                    <div class="section-header">
                        <h2>Users</h2>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-table">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="users-pagination">
                            <!-- Pagination will be loaded here -->
                        </ul>
                    </nav>
                </section>

                <!-- Orders Section -->
                <section id="orders-section" class="content-section">
                    <div class="section-header">
                        <h2>Orders</h2>
                        <div class="d-flex gap-2">
                            <label for="orderStatusFilter" class="visually-hidden">Filter by order status</label>
                            <select class="form-select form-select-sm" id="orderStatusFilter" name="orderStatusFilter" style="width: auto;">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="processing">Processing</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Order Number</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Items</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table">
                                <!-- Orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="orders-pagination">
                            <!-- Pagination will be loaded here -->
                        </ul>
                    </nav>
                </section>

                <!-- Sales Reports Section -->
                <section id="reports-section" class="content-section">
                    <div class="section-header">
                        <h2>Sales Reports</h2>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Filters</h5>
                                    <div class="row g-3">
                                        <div class="col-md-3">
                                            <label class="form-label" for="reportPeriod">Time Period</label>
                                            <select class="form-select" id="reportPeriod" name="reportPeriod">
                                                <option value="all">All Time</option>
                                                <option value="daily">Today</option>
                                                <option value="weekly">Last 7 Days</option>
                                                <option value="monthly">Last 30 Days</option>
                                                <option value="yearly">Last Year</option>
                                                <option value="custom">Custom Range</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3" id="customDateRange" style="display: none;">
                                            <label class="form-label" for="reportStartDate">Start Date</label>
                                            <input type="date" class="form-control" id="reportStartDate" name="reportStartDate">
                                        </div>
                                        <div class="col-md-3" id="customDateRangeEnd" style="display: none;">
                                            <label class="form-label" for="reportEndDate">End Date</label>
                                            <input type="date" class="form-control" id="reportEndDate" name="reportEndDate">
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label" for="reportDepartment">Department</label>
                                            <select class="form-select" id="reportDepartment" name="reportDepartment">
                                                <option value="">All Departments</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label" for="reportCategory">Category</label>
                                            <select class="form-select" id="reportCategory" name="reportCategory">
                                                <option value="">All Categories</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label" for="reportProduct">Product</label>
                                            <select class="form-select" id="reportProduct" name="reportProduct">
                                                <option value="">All Products</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label" for="reportStatus">Order Status</label>
                                            <select class="form-select" id="reportStatus" name="reportStatus">
                                                <option value="">All Status</option>
                                                <option value="pending">Pending</option>
                                                <option value="confirmed">Confirmed</option>
                                                <option value="processing">Processing</option>
                                                <option value="shipped">Shipped</option>
                                                <option value="delivered">Delivered</option>
                                            </select>
                                        </div>
                                        <div class="col-md-12">
                                            <button class="btn btn-primary" id="generateReport">Generate Report</button>
                                            <button class="btn btn-secondary" id="exportReport">Export CSV</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="reportResults" style="display: none;">
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h6 class="card-subtitle mb-2 text-muted">Total Sales</h6>
                                        <h3 class="card-title" id="reportTotalSales">Rs. 0</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h6 class="card-subtitle mb-2 text-muted">Total Orders</h6>
                                        <h3 class="card-title" id="reportTotalOrders">0</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h6 class="card-subtitle mb-2 text-muted">Total Items</h6>
                                        <h3 class="card-title" id="reportTotalItems">0</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <h6 class="card-subtitle mb-2 text-muted">Avg Order Value</h6>
                                        <h3 class="card-title" id="reportAvgOrder">Rs. 0</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Sales by Department</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Department</th>
                                                        <th>Sales</th>
                                                        <th>Orders</th>
                                                        <th>Items</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="reportByDepartment">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Sales by Category</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Category</th>
                                                        <th>Sales</th>
                                                        <th>Items</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="reportByCategory">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Top Products</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Product</th>
                                                        <th>Sales</th>
                                                        <th>Items Sold</th>
                                                        <th>Price</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="reportByProduct">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Department Modal -->
    <div class="modal fade" id="departmentModal" tabindex="-1" aria-labelledby="departmentModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="departmentModalTitle">Add Department</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="departmentForm">
                        <input type="hidden" id="departmentId" name="departmentId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="departmentName" class="form-label">Name</label>
                                <input type="text" class="form-control" id="departmentName" name="departmentName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="departmentImage" class="form-label">Image URL</label>
                                <input type="text" class="form-control" id="departmentImage" name="departmentImage" placeholder="https://example.com/image.jpg">
                            </div>
                            <div class="col-md-6">
                                <label for="departmentImageFile" class="form-label">Upload Image</label>
                                <input type="file" class="form-control" id="departmentImageFile" name="departmentImageFile" accept="image/*">
                                <div class="form-text">Upload will override the URL if both are provided.</div>
                            </div>
                            <div class="col-md-6 d-flex align-items-end">
                                <div class="image-preview">
                                    <img id="departmentImagePreview" alt="Department preview">
                                </div>
                            </div>
                            <input type="hidden" id="departmentImageFileId" name="departmentImageFileId">
                            <div class="col-12">
                                <label for="departmentDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="departmentDescription" name="departmentDescription" rows="3" required></textarea>
                            </div>
                            <div class="col-12 form-check">
                                <input class="form-check-input" type="checkbox" id="departmentActive" name="departmentActive" checked>
                                <label class="form-check-label" for="departmentActive">Active</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveDepartment">Save Department</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal fade" id="categoryModal" tabindex="-1" aria-labelledby="categoryModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="categoryModalTitle">Add Category</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryForm">
                        <input type="hidden" id="categoryId" name="categoryId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="categoryName" class="form-label">Name</label>
                                <input type="text" class="form-control" id="categoryName" name="categoryName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="categoryDepartment" class="form-label">Department</label>
                                <select class="form-select" id="categoryDepartment" name="categoryDepartment" required></select>
                            </div>
                            <div class="col-12">
                                <label for="categoryDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="categoryDescription" name="categoryDescription" rows="3" required></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="categoryImage" class="form-label">Image URL</label>
                                <input type="text" class="form-control" id="categoryImage" name="categoryImage" placeholder="https://example.com/image.jpg">
                            </div>
                            <div class="col-md-6">
                                <label for="categoryImageFile" class="form-label">Upload Image</label>
                                <input type="file" class="form-control" id="categoryImageFile" name="categoryImageFile" accept="image/*">
                                <div class="form-text">Upload will override the URL if both are provided.</div>
                            </div>
                            <div class="col-md-6 d-flex align-items-end">
                                <div class="image-preview">
                                    <img id="categoryImagePreview" alt="Category preview">
                                </div>
                            </div>
                            <input type="hidden" id="categoryImageFileId" name="categoryImageFileId">
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="categoryFeatured" name="categoryFeatured">
                                    <label class="form-check-label" for="categoryFeatured">Featured</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="categoryActive" name="categoryActive" checked>
                                    <label class="form-check-label" for="categoryActive">Active</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveCategory">Save Category</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalTitle">Add Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="productForm">
                        <input type="hidden" id="productId" name="productId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="productName" class="form-label">Name</label>
                                <input type="text" class="form-control" id="productName" name="productName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="productImage" class="form-label">Image URL</label>
                                <input type="text" class="form-control" id="productImage" name="productImage" placeholder="https://example.com/image.jpg">
                            </div>
                            <div class="col-md-6">
                                <label for="productImageFile" class="form-label">Upload Image</label>
                                <input type="file" class="form-control" id="productImageFile" name="productImageFile" accept="image/*">
                                <div class="form-text">Upload will override the URL if both are provided.</div>
                            </div>
                            <div class="col-md-6 d-flex align-items-end">
                                <div class="image-preview">
                                    <img id="productImagePreview" alt="Product preview">
                                </div>
                            </div>
                            <input type="hidden" id="productImageFileId" name="productImageFileId">
                            <div class="col-md-6">
                                <label for="productDepartment" class="form-label">Department</label>
                                <select class="form-select" id="productDepartment" name="productDepartment" required></select>
                            </div>
                            <div class="col-md-6">
                                <label for="productCategory" class="form-label">Category</label>
                                <select class="form-select" id="productCategory" name="productCategory" required>
                                    <option value="">Select Department First</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label for="productPrice" class="form-label">Price</label>
                                <input type="number" class="form-control" id="productPrice" name="productPrice" min="0" step="0.01" required>
                            </div>
                            <div class="col-md-4">
                                <label for="productDiscount" class="form-label">Discount (%)</label>
                                <input type="number" class="form-control" id="productDiscount" name="productDiscount" min="0" max="100" step="1" value="0">
                            </div>
                            <div class="col-md-4">
                                <label for="productStock" class="form-label">Stock</label>
                                <input type="number" class="form-control" id="productStock" name="productStock" min="0" step="1" required>
                            </div>
                            <div class="col-12">
                                <label for="productDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="productDescription" name="productDescription" rows="3" required></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="productFeatured" name="productFeatured">
                                    <label class="form-check-label" for="productFeatured">Featured</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="productTrending" name="productTrending">
                                    <label class="form-check-label" for="productTrending">Trending</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="productNewArrival" name="productNewArrival">
                                    <label class="form-check-label" for="productNewArrival">New Arrival</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="productActive" name="productActive" checked>
                                    <label class="form-check-label" for="productActive">Active</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveProduct">Save Product</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Slider Modal -->
    <div class="modal fade" id="sliderModal" tabindex="-1" aria-labelledby="sliderModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sliderModalTitle">Add Slider</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="sliderForm">
                        <input type="hidden" id="sliderId" name="sliderId">
                        <div class="mb-3">
                            <label for="sliderTitle" class="form-label">Title</label>
                            <input type="text" class="form-control" id="sliderTitle" name="sliderTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="sliderDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="sliderDescription" name="sliderDescription" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="sliderImage" class="form-label">Image URL</label>
                            <input type="text" class="form-control" id="sliderImage" name="sliderImage" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="mb-3">
                            <label for="sliderImageFile" class="form-label">Upload Image</label>
                            <input type="file" class="form-control" id="sliderImageFile" name="sliderImageFile" accept="image/*">
                            <div class="form-text">Upload will override the URL if both are provided.</div>
                        </div>
                        <div class="mb-3">
                            <div class="image-preview image-preview--wide">
                                <img id="sliderImagePreview" alt="Slider preview">
                            </div>
                        </div>
                        <input type="hidden" id="sliderImageFileId" name="sliderImageFileId">
                        <div class="mb-3">
                            <label for="sliderLink" class="form-label">Link</label>
                            <input type="url" class="form-control" id="sliderLink" name="sliderLink" required>
                        </div>
                        <div class="mb-3">
                            <label for="sliderOrder" class="form-label">Order</label>
                            <input type="number" class="form-control" id="sliderOrder" name="sliderOrder" min="1" step="1" required>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="sliderActive" name="sliderActive" checked>
                            <label class="form-check-label" for="sliderActive">Active</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveSlider">Save Slider</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Banner Modal -->
    <div class="modal fade" id="bannerModal" tabindex="-1" aria-labelledby="bannerModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bannerModalTitle">Add Banner</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="bannerForm">
                        <input type="hidden" id="bannerId" name="bannerId">
                        <div class="mb-3">
                            <label for="bannerTitle" class="form-label">Title</label>
                            <input type="text" class="form-control" id="bannerTitle" name="bannerTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="bannerDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="bannerDescription" name="bannerDescription" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="bannerImage" class="form-label">Image URL</label>
                            <input type="text" class="form-control" id="bannerImage" name="bannerImage" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="mb-3">
                            <label for="bannerImageFile" class="form-label">Upload Image</label>
                            <input type="file" class="form-control" id="bannerImageFile" name="bannerImageFile" accept="image/*">
                            <div class="form-text">Upload will override the URL if both are provided.</div>
                        </div>
                        <div class="mb-3">
                            <div class="image-preview image-preview--wide">
                                <img id="bannerImagePreview" alt="Banner preview">
                            </div>
                        </div>
                        <input type="hidden" id="bannerImageFileId" name="bannerImageFileId">
                        <div class="mb-3">
                            <label for="bannerLink" class="form-label">Link</label>
                            <input type="url" class="form-control" id="bannerLink" name="bannerLink" required>
                        </div>
                        <div class="mb-3">
                            <label for="bannerPosition" class="form-label">Banner Location / Position</label>
                            <select class="form-select" id="bannerPosition" name="bannerPosition" required>
                                <option value="middle">Middle Section (Between product sections)</option>
                                <option value="top">Top Section (Near top of page)</option>
                                <option value="bottom">Bottom Section (Near bottom of page)</option>
                            </select>
                            <div class="form-text">
                                <strong>Where will this banner appear?</strong><br>
                                • <strong>Middle:</strong> Between product sections on the main page<br>
                                • <strong>Top:</strong> Near the top of the page (after hero section)<br>
                                • <strong>Bottom:</strong> Near the bottom of the page (before footer)
                            </div>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="bannerActive" name="bannerActive" checked>
                            <label class="form-check-label" for="bannerActive">Active</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveBanner">Save Banner</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Section Modal -->
    <div class="modal fade" id="sectionModal" tabindex="-1" aria-labelledby="sectionModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sectionModalTitle">Add Section</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="sectionForm">
                        <input type="hidden" id="sectionId" name="sectionId">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="sectionName" class="form-label">Name</label>
                                <input type="text" class="form-control" id="sectionName" name="sectionName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="sectionType" class="form-label">Type</label>
                                <select class="form-select" id="sectionType" name="sectionType" required>
                                    <option value="">Select Type</option>
                                    <option value="hero">Hero</option>
                                    <option value="promoGrid">Promo Grid</option>
                                    <option value="categorySpotlight">Category Spotlight</option>
                                    <option value="productStrip">Product Strip</option>
                                    <option value="brandMarquee">Brand Marquee</option>
                                    <option value="storeCta">Store CTA</option>
                                    <option value="blogHighlights">Blog Highlights</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="sectionTitle" class="form-label">Title</label>
                                <input type="text" class="form-control" id="sectionTitle" name="sectionTitle">
                            </div>
                            <div class="col-md-6">
                                <label for="sectionSubtitle" class="form-label">Subtitle</label>
                                <input type="text" class="form-control" id="sectionSubtitle" name="sectionSubtitle">
                            </div>
                            <div class="col-12">
                                <label for="sectionDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="sectionDescription" name="sectionDescription" rows="3"></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="sectionOrdering" class="form-label">Ordering</label>
                                <input type="number" class="form-control" id="sectionOrdering" name="sectionOrdering" min="0" step="1" value="0">
                            </div>
                            <div class="col-12">
                                <label for="sectionConfig" class="form-label">Config (JSON)</label>
                                <textarea class="form-control" id="sectionConfig" name="sectionConfig" rows="5" placeholder='{"key": "value"}'></textarea>
                                <div class="form-text">Enter configuration as JSON. This varies by section type.</div>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="sectionActive" name="sectionActive" checked>
                                    <label class="form-check-label" for="sectionActive">Active</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="sectionPublished" name="sectionPublished">
                                    <label class="form-check-label" for="sectionPublished">Published</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveSection">Save Section</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="orderModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderModalTitle">Order Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="orderModalBody">
                    <!-- Order details will be loaded here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" id="confirmOrderBtn" style="display: none;">Confirm Order</button>
                    <button type="button" class="btn btn-primary" id="updateOrderStatusBtn">Update Status</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Status Update Modal -->
    <div class="modal fade" id="orderStatusModal" tabindex="-1" aria-labelledby="orderStatusModalTitle" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderStatusModalTitle">Update Order Status</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="orderStatusForm">
                        <input type="hidden" id="orderStatusId">
                        <div class="mb-3">
                            <label for="orderStatusSelect" class="form-label">Status</label>
                            <select class="form-select" id="orderStatusSelect" required>
                                <option value="pending">Pending</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="processing">Processing</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                        <div class="mb-3" id="cancelledReasonDiv" style="display: none;">
                            <label for="cancelledReason" class="form-label">Cancellation Reason</label>
                            <textarea class="form-control" id="cancelledReason" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveOrderStatus">Update Status</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>